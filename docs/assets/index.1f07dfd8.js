var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,l=(e,t)=>{for(var r in t||(t={}))a.call(t,r)&&o(e,r,t[r]);if(n)for(var r of n(t))s.call(t,r)&&o(e,r,t[r]);return e},c=(e,n)=>t(e,r(n));import{c as u,r as i,A as m,O as p,R as d,C as g,S as x,T as f,H as E,B as S,a as w,b as h,d as y,e as T,f as v,g as b,I as M,h as O,i as k,j as C,k as R}from"./vendor.a4fa4a0b.js";u.lookAhead=.01;const P=()=>{const e=i.exports.useRef(null),t=i.exports.useRef(null);i.exports.useEffect((()=>(e.current=new m({attack:.002,decay:0,sustain:0,release:.02}).toDestination(),t.current=new p(800,"sine").connect(e.current),()=>{var r,n;null==(r=e.current)||r.dispose(),null==(n=t.current)||n.dispose()})),[]);return{start:i.exports.useCallback((()=>{var r,n;null==(r=t.current)||r.start(),null==(n=e.current)||n.triggerAttack()}),[]),stop:i.exports.useCallback((()=>{var t;null==(t=e.current)||t.triggerRelease()}),[])}},j={A:".-",B:"-...",C:"-.-.",D:"-..",E:".",F:"..-.",G:"--.",H:"....",I:"..",J:".---",K:"-.-",L:".-..",M:"--",N:"-.",O:"---",P:".--.",Q:"--.-",R:".-.",S:"...",T:"-",U:"..-",V:"...-",W:".--",X:"-..-",Y:"-.--",Z:"--..",1:".----",2:"..---",3:"...--",4:"....-",5:".....",6:"-....",7:"--...",8:"---..",9:"----.",0:"-----","/":"-..-.","+":".-.-.","=":"-...-","?":"..--..",".":".-.-.-",",":"--..--",":":"---...","(":"-.--.",")":"-.--.-","@":".--.-.","-":"-....-",'"':".-..-.","!":"..--.",$:"...-..-","'":".----.","`":".-----.","&":". ...",";":"-.-.-."},z={fontFamily:'"Menlo", "Courier", monospace'},I=()=>{const e=()=>{const e=localStorage.getItem("config");return e?JSON.parse(e):{speed:15,memory:["R UR 599 <BK>","TU <VA> E E","","","","","","","",""],memoText:""}},t=e=>{localStorage.setItem("config",JSON.stringify(e))};return{setMemory:r=>{t(c(l({},e()),{memory:r}))},setSpeed:r=>{t(c(l({},e()),{speed:r}))},setMemoText:r=>{t(c(l({},e()),{memoText:r}))},getMemory:()=>e().memory,getSpeed:()=>e().speed,getMemoText:()=>e().memoText}},A=e=>new Promise((t=>setTimeout(t,e))),B=()=>{const e=I(),[t,r]=i.exports.useState(e.getSpeed()),[n,a]=i.exports.useState(""),[s,o]=i.exports.useState(!1),[l,c]=i.exports.useState(""),u=i.exports.useRef(""),m=P(),p=i.exports.useRef(!1),d=async()=>{if(0===u.current.length)return o(!1),void c((e=>e+"　"));o(!0);const e=u.current.slice(0,1);switch(e){case"<":p.current=!0,await A(10);break;case">":p.current=!1,await A(10);break;default:await(async(e,t,r,n)=>{const a=j[e],s=6e4/(50*t);if(null==a)return void(await A(3*s));const o=a.split("");for(const l of o)"."===l&&(n.start(),await A(s)),"-"===l&&(n.start(),await A(3*s)),n.stop(),await A(s);await await A(s*(r?0:2))})(e,t,p.current,m)}c((t=>t+e.replace(" ","　"))),a((e=>{const t=e.slice(1);return u.current=e.slice(1),t})),d()};return{sendingText:n,sentText:l,send:e=>{a(e),u.current=e,s||d()},addSend:e=>{a((t=>t+" "+e)),u.current=u+" "+e,s||d()},speed:t,setSpeed:t=>{r(t),e.setSpeed(t)}}};function D(){const e=P(),t=B(),r=(()=>{const[e,t]=i.exports.useState(""),r=I();return i.exports.useEffect((()=>{t(r.getMemoText())}),[]),{setText:e=>{t(e),r.setMemoText(e)},text:e}})(),n=(e=>{const t=I(),[r,n]=i.exports.useState(t.getMemory());return{update:(e,r)=>{n((n=>{const a=n.slice(0);return a[r]=e,t.setMemory(a),a}))},send:t=>{const n=r[t];e.sendingText.length>0?e.addSend(n):e.send(n)},content:r}})(t),a=i.exports.useRef(null);i.exports.useEffect((()=>{null!=a.current&&(a.current.scrollLeft=a.current.scrollWidth)}),[t.sentText]);const s=t.sendingText.length>0;return d.createElement(g,{pt:2},d.createElement(x,{spacing:4},d.createElement(f,{maxLength:8e3,placeholder:"MEMO",resize:"vertical",variant:"flushed",value:r.text,sx:z,onChange:e=>r.setText(e.target.value)}),d.createElement(E,{spacing:4},d.createElement(S,{w:8},d.createElement(w,{fontSize:"xl",align:"center"},t.speed),d.createElement(w,{fontSize:"xs",color:"gray"},"WPM")),d.createElement(h,{value:t.speed,onChange:e=>{t.setSpeed(e)},max:40,min:5,size:"lg"},d.createElement(y,null,d.createElement(T,null)),d.createElement(v,null)),s?d.createElement(b,{w:36,colorScheme:"red",size:"lg",onClick:()=>{t.send("")}},"STOP"):d.createElement(b,{size:"lg",w:36,colorScheme:"blue",onMouseDown:()=>{e.start()},onMouseUp:()=>{e.stop()},onMouseLeave:()=>{e.stop()},onTouchStart:()=>{e.start()},onTouchEnd:()=>{e.stop()},onTouchCancel:()=>{e.stop()}})),d.createElement(E,{spacing:0},d.createElement(S,{w:"50%"},d.createElement(w,{ref:a,color:"gray",align:"right",sx:l({opacity:.5,marginBottom:"1px",whiteSpace:"nowrap",overflow:"scroll","&::-webkit-scrollbar":{display:"none"}},z)},t.sentText)),d.createElement(S,{w:"50%"},d.createElement(M,{maxLength:1e3,sx:z,variant:"flushed",value:t.sendingText,onChange:e=>{t.send(e.target.value)}}))),n.content.map(((e,t)=>d.createElement(O,{key:t},d.createElement(M,{sx:z,pr:"16",value:e,onChange:e=>{n.update(e.target.value,t)}}),d.createElement(k,{width:"16",p:1},d.createElement(b,{borderRadius:"3",colorScheme:"blue",size:"sm",variant:"outline",onClick:()=>{n.send(t)}},"SEND")))))))}C.render(d.createElement(d.StrictMode,null,d.createElement(R,null,d.createElement(D,null))),document.getElementById("root"));
